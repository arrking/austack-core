<md-dialog aria-label="Create a new shape" id="shape-create-content">

  <md-toolbar class="md-accent">
    <div class="md-toolbar-tools">
      <h2>新建字段</h2>
      <span flex></span>
      <md-button class="md-icon-button" ng-click="create.close()" aria-label="Create a new shape">
        <md-icon md-svg-icon="navigation:ic_close_24px"></md-icon>
      </md-button>
    </div>
  </md-toolbar>

  <md-dialog-content>

    <form name="createForm">

      <section layout="column">

        <md-input-container flex>
          <label>字段名称</label>
          <input name="name" ng-model="create.field.name" ng-model-options="{updateOn: 'default blur', debounce: {'default': 500, 'blur': 0}}" required mongoose-error remote-unique="Shape">
          <div ng-messages="createForm.name.$error">
            <div ng-message="required">字段名称不能为空</div>
            <div ng-message="mongoose">此字段已经被使用</div>
            <div ng-message="remote-unique">此字段已经被使用</div>
          </div>
        </md-input-container>
        <md-input-container flex>
          <label>字段类型</label>
          <md-select name="type" placeholder="字段类型" ng-model="create.field.type" required>
            <md-option ng-repeat="type in create.shapeTypes" value="{{type.name}}">{{type.text}}</md-option>
          </md-select>
          <div ng-messages="createForm.type.$error">
            <div ng-message="required">字段类型不能为空</div>
          </div>
        </md-input-container>
        <md-list>
          <md-list-item>
            <p>是否必须</p>
            <md-switch class="md-secondary" ng-model="create.field.required"></md-switch>
          </md-list-item>
          <md-list-item>
            <p>是否唯一</p>
            <md-switch class="md-secondary" ng-model="create.field.unique"></md-switch>
          </md-list-item>
          <md-list-item>
            <p>是否索引</p>
            <md-switch class="md-secondary" ng-model="create.field.index"></md-switch>
          </md-list-item>
        </md-list>

      </section>

    </form>

  </md-dialog-content>

  <div class="md-actions" layout="row">
    <span flex></span>
    <md-button ng-click="create.cancel()">取消</md-button>
    <md-button ng-disabled="createForm.$invalid" ng-click="create.create(createForm)" class="md-primary md-raised">确认创建</md-button>
  </div>

</md-dialog>
